<template>
  <div
    class="min-w-screen min-h-screen flex items-center justify-center px-5 py-5"
  >
    <div class="max-w-7xl mx-auto px-10">
      <div
        class="bg-gray-100 text-gray-500 rounded-3xl border border-gold shadow-xl w-full overflow-hidden"
      >
        <div class="md:flex w-full mr-40">
          <div class="hidden md:block w-1/2 bg-gray-400 py-10 px-10">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="400"
              height="auto"
              viewBox="0 0 564.46765 449.26526"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <path
                d="M239.34575,431.62993c2.06592,.12937,3.20768-2.43737,1.64468-3.93333l-.1555-.61819c.02047-.04951,.04105-.09897,.06178-.14839,2.08924-4.9818,9.16992-4.94742,11.24139,.04177,1.83859,4.42817,4.17942,8.86389,4.75579,13.54594,.25838,2.0668,.14213,4.17236-.31648,6.20047,4.30807-9.41059,6.57515-19.68661,6.57515-30.02077,0-2.59652-.14213-5.19301-.43275-7.78295-.239-2.11854-.56839-4.2241-.99471-6.31034-2.30575-11.2772-7.29852-22.01825-14.50012-30.98962-3.46197-1.89248-6.34906-4.85065-8.09295-8.39652-.62649-1.27891-1.11739-2.65462-1.34991-4.05618,.39398,.05168,1.48556-5.94866,1.18841-6.3168,.54906-.83317,1.53178-1.24733,2.13144-2.06034,2.98232-4.04341,7.0912-3.33741,9.23621,2.15727,4.58224,2.31266,4.62659,6.14806,1.81495,9.83683-1.78878,2.34682-2.03456,5.52233-3.60408,8.03478,.16151,.20671,.32944,.40695,.4909,.61366,2.96106,3.79788,5.52208,7.88002,7.68104,12.16859-.61017-4.76621,.29067-10.50822,1.82641-14.20959,1.74819-4.21732,5.02491-7.76915,7.91045-11.41501,3.46601-4.37924,10.57337-2.46806,11.18401,3.08332,.00591,.05375,.01166,.10745,.01731,.1612-.4286,.24178-.84849,.49867-1.25864,.76992-2.33949,1.54723-1.53096,5.17386,1.24107,5.60174l.06277,.00967c-.15503,1.54366-.41984,3.07444-.80734,4.57937,3.70179,14.31579-4.29011,19.5299-15.70147,19.76412-.25191,.12916-.49738,.25832-.74929,.38109,1.15617,3.25525,2.07982,6.59447,2.76441,9.97891,.61359,2.99043,1.03991,6.01317,1.27885,9.04888,.29715,3.83006,.27129,7.67959-.05168,11.50323l.01939-.13562c.82024-4.21115,3.10671-8.14462,6.4266-10.87028,4.94561-4.06264,11.93282-5.55869,17.26826-8.82425,2.56833-1.57196,5.85945,.45945,5.41121,3.43708l-.02182,.14261c-.79443,.32289-1.56947,.69755-2.31871,1.11733-.4286,.24184-.84848,.49867-1.25864,.76992-2.33949,1.54729-1.53096,5.17392,1.24107,5.6018l.06282,.00965c.0452,.00646,.08397,.01295,.12911,.01944-1.36282,3.23581-3.26168,6.23922-5.63854,8.82922-2.31463,12.49713-12.25603,13.68282-22.89022,10.04354h-.00648c-1.16259,5.06378-2.86128,10.01127-5.0444,14.72621h-18.02019c-.06463-.20022-.12274-.40692-.18089-.60717,1.6664,.10341,3.34571,.00649,4.98629-.29702-1.33701-1.64059-2.67396-3.29409-4.01097-4.93462-.03229-.0323-.05816-.0646-.08397-.09689-.67817-.8396-1.36282-1.67283-2.04099-2.51246l-.00036-.00102c-.04245-2.57755,.26652-5.14662,.87876-7.63984l.00057-.00035Z"
                fill="#f2f2f2"
              />
              <path
                d="M0,448.07526c0,.66003,.53003,1.19,1.19006,1.19H404.48004c.65997,0,1.19-.52997,1.19-1.19,0-.65997-.53003-1.19-1.19-1.19H1.19006c-.66003,0-1.19006,.53003-1.19006,1.19Z"
                fill="#ccc"
              />
              <path
                d="M544.74304,449h-206.55127c-10.87598,0-19.72412-8.84863-19.72412-19.72461V19.72461c0-10.87598,8.84814-19.72461,19.72412-19.72461h206.55127c10.87598,0,19.72461,8.84863,19.72461,19.72461V429.27539c0,10.87598-8.84863,19.72461-19.72461,19.72461ZM338.19177,2c-9.78876,0-17.72412,7.93536-17.72412,17.72412V429.27539c0,9.78903,7.93558,17.72461,17.72461,17.72461h206.55078c9.78903,0,17.72461-7.93558,17.72461-17.72461V150.70484c0-82.12742-66.57743-148.70484-148.70484-148.70484h-75.57104Z"
                fill="#e6e6e6"
              />
              <g>
                <circle cx="377.13408" cy="178.11811" r="24" fill="#e6e6e6" />
                <circle cx="505.80075" cy="178.11811" r="24" fill="#e6e6e6" />
                <circle cx="441.46741" cy="178.11811" r="24" fill="#e6e6e6" />
              </g>
            </svg>
          </div>
          <div class="w-full md:w-1/2 py-10 px-5 md:px-10">
            <div class="text-center mb-10">
              <h1 class="font-bold text-3xl text-gray-900">
                กรอกบันทึกการเบิกเงิน
              </h1>
            </div>

            <div class="flex -mx-3">
              <div class="w-full px-3 mb-5">
                <div class="relative z-0 w-full mb-6 group">
                  <input
                    v-model="nationalId"
                    class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" "
                    required
                  />
                  <label
                    for="nationalId"
                    class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
                  >
                    เลขบัตรประชาชนลูกค้า
                  </label>
                  <div class="text-red-500" v-if="userNotFoundError">
                    ไม่พบข้อมูลผู้ใช้ในระบบ
                  </div>
                </div>
              </div>
            </div>

            <div class="flex -mx-3">
              <div class="w-full px-3 mb-12">
                <div class="relative z-0 w-full mb-6 group">
                  <input
                    v-model="amountID"
                    type="number"
                    class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" "
                    required
                  />
                  <label
                    for="examinationId"
                    class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
                  >
                    จำนวนเงิน
                  </label>
                  <div class="text-red-500" v-if="examinationNotFoundError">
                    ไม่พบข้อมูลสัญญาตรวจสอบในระบบ
                  </div>
                </div>
              </div>
            </div>

            <div class="flex -mx-3">
              <div class="w-full px-3 mb-12">
                <div class="relative z-0 w-full mb-6 group">
                  <input
                    v-model="examinationId"
                    type="number"
                    class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" "
                    required
                  />
                  <label
                    for="examinationId"
                    class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
                  >
                    เลขสัญญาการจำนำ
                  </label>
                  <div class="text-red-500" v-if="examinationNotFoundError">
                    ไม่พบข้อมูลสัญญาตรวจสอบในระบบ
                  </div>
                  <br />
                 
                </div>
                <button
                  @click="confirm"
                  type="submit"
                  class="text-white font-light bg-darkblue hover:bg-gradient-to-b from-gold to-darkgold focus:ring-2 focus:ring-gold focus:outline-none rounded-lg  w-full mt-4 py-5 text-center -mr-52 md:mr-10"
                >
                 บันทึก
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <CompletePay></CompletePay>
  </div>
</template>

<script setup lang="ts">
const confirm = function () {
  const loadingPay = document.getElementById("loading-pay") as HTMLElement;
  const payComplete = document.getElementById("pay-complete") as HTMLElement;

  if (loadingPay && payComplete) {
    loadingPay.classList.remove("hidden");

    setTimeout(() => {
      loadingPay.classList.add("hidden");
      payComplete.classList.remove("hidden");
    }, 3000);
  }
};

const closeModal = () => {
  const modal = document.getElementById("pay-complete");
  if (modal) {
    modal.classList.add("hidden");
  }
};
</script>
